<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AIDetect - Questionnaire</title>
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #f9fcff;
      color: #333;
      padding: 40px;
    }

    h1 {
      color: #007c91;
    }

    form {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      max-width: 600px;
      margin: auto;
    }

    label {
      display: block;
      margin-top: 20px;
      font-weight: bold;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    button {
      margin-top: 30px;
      padding: 12px 24px;
      background-color: #007c91;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }

    button:hover {
      background-color: #005f73;
    }
  </style>
</head>
<body>

<h1>Health Information Form</h1>

<form onsubmit="submitForm(event)">
  <label for="age">Age:</label>
  <input type="number" min="0" id="age" name="age" required />

  <label for="bp">Blood Pressure:</label>
  <select id="bp" name="bp" required>
  <option value="" disabled selected>Select level</option>
  <option value="95/80">95/80</option>
  <option value="120/80">120/80</option>
  <option value="130/80">130/80</option>
  <option value="140/80">140/80</option>  
  <option value="145/80">145/80</option>
  </select>

  <label for="massBefore">Mass Before 1 Week (kg):</label>
  <input type="number" id="massBefore" name="massBefore" required />

  <label for="massAfter">Mass After 1 Week (kg):</label>
  <input type="number" id="massAfter" name="massAfter" required />

  <label for="urine">Urine Per Day (mL):</label>
  <input type="number" id="urine" name="urine" required />

  <label for="water">Water Intake Per Day (mL):</label>
  <input type="number" id="water" name="water" required />

  <label for="gender">Risk Gender:</label>
  <select id="gender" name="gender">
    <option value="Male">Male</option>
    <option value="Female">Female</option>
    <option value="Both">Both</option>
  </select>

  <label for="fatigue">Fatigue:</label>
  <select id="fatigue" name="fatigue">
    <option value="Yes">Yes</option>
    <option value="No">No</option>
  </select>

  <label for="edema">Edema:</label>
  <select id="edema" name="edema">
    <option value="Yes">Yes</option>
    <option value="No">No</option>
  </select>

  <label for="confusion">Confusion:</label>
  <select id="confusion" name="confusion">
    <option value="Yes">Yes</option>
    <option value="No">No</option>
  </select>

  <label for="cold">Common Cold:</label>
  <select id="cold" name="cold">
    <option value="Yes">Yes</option>
    <option value="No">No</option>
  </select>

  <label for="thirst">Thirst:</label>
  <select id="thirst" name="thirst">
    <option value="Yes">Yes</option>
    <option value="No">No</option>
  </select>

  <button type="submit">Submit</button>
</form>

<script>
  async function submitForm(event) {
    event.preventDefault();

    const data = {
      age: parseInt(document.getElementById("age").value),
      bp: document.getElementById("bp").value,
      weight_before: parseFloat(document.getElementById("massBefore").value),
      weight_now: parseFloat(document.getElementById("massAfter").value),
      urine: parseFloat(document.getElementById("urine").value),
      water: parseFloat(document.getElementById("water").value),
      gender: document.getElementById("gender").value,
      fatigue: document.getElementById("fatigue").value,
      edema: document.getElementById("edema").value,
      confusion: document.getElementById("confusion").value,
      cold: document.getElementById("cold").value,
      thirst: document.getElementById("thirst").value
    };

    try {
      const response = await fetch("https://aidetect-github-io.onrender.com", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      });

      const result = await response.json();

      // แสดงผลบนหน้าเว็บ
      alert("ผลการวิเคราะห์: " + result.prediction);
    } catch (error) {
      alert("เกิดข้อผิดพลาด: " + error.message);
    }
  }
</script>


</body>
</html>
